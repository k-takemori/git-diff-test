name: Development flow

on:
  push:
  pull_request:

jobs:
  git-secrets:
    if: github.event_name == 'pull_request'
    uses: ./.github/workflows/git-secrets.yaml
  eslint:
    needs:
      - git-secrets
    uses: ./.github/workflows/eslint.yaml
  prettier:
    needs:
      - git-secrets
    uses: ./.github/workflows/prettier.yaml
  hadolint:
    needs:
      - git-secrets
    uses: ./.github/workflows/hadolint.yaml
  build-ts:
    needs:
      - eslint
      - prettier
      - hadolint
    uses: ./.github/workflows/build-ts.yaml
